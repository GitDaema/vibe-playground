# 샌드박스형 문제 제작·공유·풀이 웹 애플리케이션

## 1. 프로젝트 개요

서버 없이 브라우저에서 동작하는 샌드박스형 문제 제작, 공유, 풀이 웹 애플리케이션을 개발합니다. 사용자는 문제를 만들어 해시 코드로 공유하고, 다른 사용자는 이 코드를 불러와 자연어 규칙을 설계하여 문제를 해결합니다. 모든 데이터는 LocalStorage와 Base64url 압축 코드를 통해 관리됩니다.

## 2. 핵심 기능

- **문제 제작 (Build Mode):** 그래프, 물리 월드를 편집하고 목표와 제약 조건을 설정합니다.
- **문제 공유 (Share):** 제작된 문제(Challenge)를 JSON 직렬화 및 Base64url 압축을 통해 공유 코드로 생성합니다.
- **문제 풀이 (Play Mode):** 공유 코드를 입력하여 문제를 복원하고, 자연어로 규칙을 작성합니다. 작성된 규칙은 Gemini를 통해 DSL(JSON)로 변환되어 시뮬레이션에 적용됩니다.
- **검증 및 리플레이 (Proof):** 문제 해결에 성공하면, 해결 과정을 재현할 수 있는 Proof 코드가 자동으로 생성됩니다.

## 3. 기술 스택

- **프론트엔드:** React, TypeScript
- **스타일링:** Tailwind CSS
- **상태 관리:** Zustand
- **직렬화/복원:** LZ-String, Base64url, CRC32
- **저장소:** LocalStorage
- **테스트:** Vitest, zod
- **AI 협업:** Gemini CLI

## 4. 개발 계획 (7일)

- **1-2일차:** 프로젝트 환경 설정, `codec` 및 `validator` 구현 및 테스트.
- **3-4일차:** 샌드박스 엔진 코어 및 DSL 런타임 구현.
- **5일차:** Build/Play 모드 UI 구현 및 Gemini 연동.
- **6일차:** Proof/Replay 시스템 구현 및 반응형 디자인 조정.
- **7일차:** 최종 문서화 및 제출 준비.

## 5. 마스터 프롬프트

다음은 프로젝트 전반에 걸쳐 AI 어시스턴트를 안내할 마스터 프롬프트입니다.

---

**역할:** AI 페어 프로그래밍 어시스턴트.

**목표:** '서버 없는 샌드박스형 문제 제작·공유·풀이 웹앱'을 7일 내 완성.

**제약 조건:**
1. 한 번에 완성하지 말고, 각 기능 단위를 독립적으로 제시.
2. 커밋은 최소 30회로 분할.
3. 모든 출력은 파일 경로와 타입 포함.
4. 프롬프트와 응답은 DEVELOPMENT_LOG.md에 기록.
5. 각 단계가 완료된 후, 변경 사항을 검증하거나 테스트할 수 있는 방법을 제안하고 사용자 확인을 기다립니다.

**출력 순서:**
1) 프로젝트 초기 세팅 (Vite + React + TS + Tailwind)
2) `codec/shareCode.ts` (압축+Base64url+CRC32)
3) `sandbox/engine/core.ts` (seedable RNG + tick loop)
4) `sandbox/engine/dsl.ts` (이벤트/액션 시스템)
5) UI (`/build`, `/play`, `/share` 페이지)
6) `services/geminiBridge.ts` (자연어→DSL 변환)
7) CRUD 및 Proof 시스템
8) 결정론 테스트
9) `README.md`, `GEMINI.md`, `DEVELOPMENT_LOG.md` 작성

**검증 기준:**
- 자동평가 조건(파일, 커밋, 문서, 테스트) 충족.
- AI 협업 과정이 기록으로 증명됨.
- CRUD/규칙/Proof 3개 핵심 기능 동작.